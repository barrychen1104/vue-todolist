import{u as m,r as _,c as h,a as w,o as v,b as g,d as e,w as n,v as r,t as i,e as f,f as C,g as k}from"./index-C4SxC3VC.js";import{a as b}from"./axios-C8DqakIB.js";const x={id:"signUpPage",class:"bg-yellow"},y={class:"conatiner signUpPage vhContainer"},U=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),V={class:"formControls",action:"index.html"},S=e("h2",{class:"formControls_txt"},"註冊帳號",-1),q=e("label",{class:"formControls_label",for:"email"},"Email",-1),E=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),B=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),N=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),D="https://todolist-api.hexschool.io",T={__name:"SignUpView",setup(I){const p=m(),s=_({email:"",nickname:"",password:"",passwordCheck:""}),d=l=>/\S+@\S+\.\S+/.test(l),t=h(()=>({email:d(s.value.email)?"":"Email 格式錯誤",nickname:s.value.nickname?"":"此欄位不可為空",password:s.value.password.length>=6?"":"密碼長度不足",passwordCheck:s.value.password===s.value.passwordCheck?"":"密碼不一致"})),u=async()=>{try{(await b.post(`${D}/users/sign_up`,s.value)).data.status&&alert("註冊成功，請登入"),p.push("/")}catch(l){console.log(l),alert("註冊失敗: "+l.response.data.message)}};return(l,o)=>{const c=w("router-link");return v(),g("div",x,[e("div",y,[U,e("div",null,[e("form",V,[S,q,n(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=a=>s.value.email=a)},null,512),[[r,s.value.email]]),e("span",null,i(t.value.email),1),E,n(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱",required:"","onUpdate:modelValue":o[1]||(o[1]=a=>s.value.nickname=a)},null,512),[[r,s.value.nickname]]),e("span",null,i(t.value.nickname),1),B,n(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[2]||(o[2]=a=>s.value.password=a)},null,512),[[r,s.value.password]]),e("span",null,i(t.value.password),1),N,n(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":o[3]||(o[3]=a=>s.value.passwordCheck=a)},null,512),[[r,s.value.passwordCheck]]),e("span",null,i(t.value.passwordCheck),1),e("input",{class:"formControls_btnSubmit",type:"button",onClick:u,value:"註冊帳號"}),f(c,{class:"formControls_btnLink",to:"/"},{default:C(()=>[k("登入")]),_:1})])])])])}}};export{T as default};
